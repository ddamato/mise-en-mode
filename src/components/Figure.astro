---
const { float } = Astro.props;
---

<style>
  figure {
    margin: 0 auto;
    display: flex;
    align-items: center;
    flex-direction: column;
    max-height: 100%;
    width: 90%;
    padding: 5%;
    background: var(--bg-color);
  }

  figure[data-float] {
    margin: calc(var(--unit) * 2);
    margin-inline-start: calc(var(--unit) * -8);
    float: left;
  }

  figcaption {
    font-size: 1.2rem;
    line-height: 1.5;
    padding: 0.75em;
    font-weight: 500;
    width: 100%;
    text-align: center;
    text-wrap: balance;
  }

  figcaption:empty {
    display: none;
  }

  @media  (display-mode: browser) and (max-width: 144vh) {
		figure[data-float] {
      float: initial;
      margin: 0 auto;
      max-width: none;
      padding-inline: 0;
    }
	}

  @media not (display-mode: browser) {
    figure[data-float] {
      float: initial;
      padding-block: 0;
      margin: 0 auto;
    }

    figcaption {
      font-size: 1.5rem;
    }
  }
</style>

<figure data-float={ Boolean(float) }>
  <slot name="media" />
  <figcaption><slot/></figcaption>
</figure>